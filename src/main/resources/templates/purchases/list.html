<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layouts/default_layout">
<head>
<title>Candidate List</title>
<link rel="stylesheet" type="text/css"
	th:href="@{/css/bootstrap.min.css}" />

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<!-- <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  -->

<script th:src="@{/js/app.js}"></script>
<script th:src="@{/js/jquery-ui.js}"></script>
<style>
#imaginary_container {
	
}

.stylish-input-group .input-group-addon {
	background: white !important;
}

.stylish-input-group .form-control {
	border-right: 0;
	box-shadow: 0 0 0;
	border-color: #ccc;
}

.stylish-input-group button {
	border: 0;
	background: transparent;
}
</style>
</head>
<body>

	<div id="content" layout:fragment="content" class="container">
		<th:block th:if="${message != null}">
			<!-- /* The message code is returned from the @Controller */ -->
			<div
				th:replace="fragments/alert :: alert (type=${#strings.toLowerCase(message.type)}, message=${message.message})">&nbsp;</div>
		</th:block>


		<div class="row">

			<a class="btn btn-primary" th:href="@{/newpurchase}" role="button">NEW PURCHASE</a>
		</div>
		<div class="row table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th >Purchase ID</th>
						<th class='tablefilter2'>Customer Name</th>
						<th class='tablefilter2'>Product Type</th>
						<th class='tablefilter3'>Amount</th>
						<th class='tablefilter4'>Product Name</th>
						<th>Date</th>
						<th class='tablefilter5'>Coupon applied percentage</th>
						<th class='tablefilter7'>Discount applied percentage</th>

						<th class='tablefilter8'>Total paid  </th>

					</tr>
				</thead>
				<tbody>
					<tr th:if="${purchases !=null}"
						th:each="purchase : ${purchases}">


						<td th:text="${purchase.id}"></td>
						<td th:text="${purchase.customer != null} ? ${purchase.customer.name} : 'ANONYMOUS'"></td>
						<th th:text="${purchase.product.type}"></th>
						<td th:text="${purchase.amount}"></td>
						<td th:text="${purchase.product.name}"></td>
						<td th:text="${purchase.date}"></td>
						<td th:text="${purchase.coupon != null} ? ${purchase.coupon.percentOffValue} : 'NONE'"></td>
						<td th:text="${purchase.productDiscount != null} ? ${purchase.productDiscount.percentOffValue} : 'NONE'"></td>
						<td th:text="${purchase.totalPaidWithDiscount}"></td>
					</tr>
				</tbody>
			</table>
		</div>

	</div>
</body>
</html>